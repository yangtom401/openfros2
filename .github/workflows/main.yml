 name: Build PSG1208 Firmware

   on:
     push:
       branches:
         - main

   jobs:
     build:
       runs-on: ubuntu-latest

       steps:
       - name: Checkout code
         uses: actions/checkout@v2

       - name: Set up the environment
         run: |
           sudo apt-get update
           sudo apt-get install -y build-essential git

       - name: Clone OpenWRT source
         run: |
           git clone https://github.com/coolsnowwolf/lede.git

       - name: Run build script
         run: |
           cd lede
           ./scripts/feeds update -a
           ./scripts/feeds install -a
           # 如果您需要修改 build.sh 中的配置，请在这里进行
           ./build.sh
